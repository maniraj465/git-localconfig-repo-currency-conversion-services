server:
  port: 8000

spring:
  application:
    name: currency-exchange-service

  config:
    import: optional:configserver:http://config-server:8888

  cloud:
    config:
      profile: dev    # Profile changes without this property

  sql:
    init:
      mode: always

  datasource:
    url: jdbc:mysql://localhost:3306/currency_exchange_service?useSSL=false&serverTimezone=UTC&useLegacyDatetimeCode=false&sessionVariables=sql_mode='NO_ENGINE_SUBSTITUTION'&jdbcCompliantTruncation=false
#    url: jdbc:mysql://localhost:3336/currency_exchange_service
#   For docker image -
#    url: jdbc:mysql://currency-service-mysql-db:3306/currency_exchange_service?useSSL=false&serverTimezone=UTC&useLegacyDatetimeCode=false&sessionVariables=sql_mode='NO_ENGINE_SUBSTITUTION'&jdbcCompliantTruncation=false
    username: maniraj
    password: Alliswell@1
    driver-class-name: com.mysql.cj.jdbc.Driver

  jpa:
    show_sql: true
    defer-data-source-initialization: true
    hibernate:
      ddl-auto: create-drop
    properties:
      allowPublicKeyRetrieval: true
      hibernate:
        dialect: org.hibernate.dialect.MySQLDialect
        format_sql: true

resilience4j:
  retry:
    instances:
      currency-exchange-get-all:
        maxRetryAttempts : 5

# Tracing, Logs, and Metrics - For Spring Boot 3
management:
  tracing:
      sampling:
        probability: 1.0      # 1.0 means, we want to trace every requests

logging:
  pattern:
    level: "%5p [${spring.application.name},%X{traceId:-},%X{spanId:-}]"      # Format

eureka:
  client:
    service-url:
#     default-zone: http://localhost:8761/eureka
      default-zone: naming-server:8761/eureka


  instance:
    prefer-ip-address: true
    ip-address: localhost  # or use actual IP
    hostname: localhost
    instance-id: ${spring.application.name}:${server.port}
